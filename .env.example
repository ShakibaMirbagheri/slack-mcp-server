# Slack MCP Server - Environment Variables Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# REQUIRED: Authentication (Choose ONE method)
# =============================================================================

# Method 1: User OAuth Token (Recommended - More Secure)
# Get this from: https://api.slack.com/apps
# See docs/01-authentication-setup.md for detailed instructions
SLACK_MCP_XOXP_TOKEN=xoxp-your-oauth-token-here

# Method 2: Browser Session Tokens (Alternative)
# Extract these from your browser's developer console and cookies
# See docs/01-authentication-setup.md for detailed instructions
# SLACK_MCP_XOXC_TOKEN=xoxc-your-browser-token-here
# SLACK_MCP_XOXD_TOKEN=xoxd-your-cookie-token-here

# =============================================================================
# OPTIONAL: Server Configuration
# =============================================================================

# Host for the MCP server to listen on (default: 127.0.0.1)
# Use 0.0.0.0 to listen on all interfaces
SLACK_MCP_HOST=127.0.0.1

# Port for the MCP server to listen on (default: 13080)
SLACK_MCP_PORT=13080

# Bearer token for SSE and HTTP transports authentication
# Leave empty to disable authentication (not recommended for production)
SLACK_MCP_API_KEY=

# =============================================================================
# OPTIONAL: Network & Proxy Configuration
# =============================================================================

# Proxy URL for outgoing requests (e.g., http://proxy.example.com:8080)
# SLACK_MCP_PROXY=

# Custom User-Agent string (for Enterprise Slack environments)
# Should match your browser's User-Agent where you extracted tokens
# SLACK_MCP_USER_AGENT=

# Enable custom TLS-handshake to Slack servers (for Enterprise Slack)
# Set to "true" or "1" to enable
# SLACK_MCP_CUSTOM_TLS=

# Path to CA certificate file
# SLACK_MCP_SERVER_CA=

# Inject HTTPToolkit CA certificate to root trust-store for MitM debugging
# SLACK_MCP_SERVER_CA_TOOLKIT=

# Trust all insecure requests (NOT RECOMMENDED for production)
# Set to "true" or "1" to enable (default: false)
SLACK_MCP_SERVER_CA_INSECURE=false

# =============================================================================
# OPTIONAL: Message Posting Configuration
# =============================================================================

# Enable message posting via conversations_add_message tool
# Options:
#   - Leave empty or unset: Disabled (default, safest)
#   - "true" or "1": Enable for all channels
#   - Comma-separated channel IDs: Enable only for specific channels (e.g., "C1234567890,C9876543210")
#   - "!C1234567890": Allow all channels except the specified one
SLACK_MCP_ADD_MESSAGE_TOOL=

# Automatically mark messages as read when posting (default: false)
# Set to "true" or "1" to enable
SLACK_MCP_ADD_MESSAGE_MARK=

# Enable link unfurling for posted messages
# Options:
#   - Leave empty: Disabled
#   - "true" or "1": Enable for all domains
#   - Comma-separated domains: Enable only for specific domains (e.g., "github.com,slack.com")
SLACK_MCP_ADD_MESSAGE_UNFURLING=

# =============================================================================
# OPTIONAL: Cache Configuration
# =============================================================================

# Path to the users cache file (default: .users_cache.json)
# Used to cache Slack user information to avoid repeated API calls on startup
SLACK_MCP_USERS_CACHE=.users_cache.json

# Path to the channels cache file (default: .channels_cache_v2.json)
# Used to cache Slack channel information to avoid repeated API calls on startup
SLACK_MCP_CHANNELS_CACHE=.channels_cache_v2.json

# =============================================================================
# OPTIONAL: Logging Configuration
# =============================================================================

# Log level for stdout or stderr
# Valid values: debug, info, warn, error, panic, fatal (default: info)
SLACK_MCP_LOG_LEVEL=info

# Log format: "json" or "console" (default: auto-detected based on environment)
# SLACK_MCP_LOG_FORMAT=

# Enable colored log output (default: auto-detected)
# Set to "true" or "1" to force enable, "false" or "0" to disable
# SLACK_MCP_LOG_COLOR=
